<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Learning Path - KMS</title>

  <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    * { margin:0; padding:0; box-sizing:border-box; }
    body { font-family:'Sarabun',sans-serif; background:#e8eef5; min-height:100vh; overflow-x:hidden; }
    .container{ display:flex; min-height:100vh; }

    .sidebar{
      width:70px; background:linear-gradient(180deg,#5b9bd5 0%,#4a89c8 100%);
      display:flex; flex-direction:column; align-items:center; padding-top:20px; gap:10px;
      position:fixed; left:0; top:0; height:100vh; z-index:100;
    }
    .sidebar-icon{
      width:50px; height:50px; display:flex; align-items:center; justify-content:center;
      color:rgba(255,255,255,.7); font-size:20px; border-radius:12px; cursor:pointer;
      transition:.2s ease; text-decoration:none;
    }
    .sidebar-icon:hover,.sidebar-icon.active{ background:rgba(255,255,255,.2); color:#fff; }

    .main{ flex:1; margin-left:70px; width:calc(100% - 70px); }

    .header{
      background:linear-gradient(135deg,#5b9bd5 0%,#2e75b6 100%);
      padding:32px 40px; text-align:center;
    }
    .header h1{ color:#fff; font-size:30px; font-weight:800; margin-bottom:6px; }
    .header p{ color:rgba(255,255,255,.92); font-size:15px; line-height:1.6; }

    .wrap{ padding:18px 40px 40px; }

    .grid{
      display:grid;
      grid-template-columns: repeat(4, 1fr);
      gap:16px;
      max-width:1100px;
      margin:0 auto;
    }

    .p-card{
      background:#fff;
      border-radius:18px;
      overflow:hidden;
      box-shadow:0 6px 20px rgba(0,0,0,.07);
      border:1px solid #eef2f6;
      transition:.2s ease;
      cursor:pointer;
      display:flex;
      flex-direction:column;
      min-height:220px;
    }
    .p-card:hover{ transform:translateY(-4px); box-shadow:0 10px 28px rgba(91,155,213,.18); }

    .p-img{
      height:120px;
      background:#f7fbff;
      display:flex;
      align-items:center;
      justify-content:center;
      position:relative;
    }
    .p-img i{
      font-size:46px;
      color:#2e75b6;
      opacity:.9;
    }
    .p-badge{
      position:absolute;
      left:12px; top:12px;
      background:#eef5ff;
      color:#2e75b6;
      border:1px solid #cfe1f4;
      padding:6px 10px;
      border-radius:999px;
      font-size:12px;
      font-weight:900;
      display:inline-flex;
      gap:8px;
      align-items:center;
    }

    .p-body{ padding:14px 14px 16px; display:flex; flex-direction:column; gap:8px; flex:1; }
    .p-title{ font-size:16px; font-weight:900; color:#2c3e50; }
    .p-sub{ font-size:13px; color:#607d8b; line-height:1.45; flex:1; }

    .p-actions{
      display:flex; justify-content:space-between; align-items:center;
      padding:12px 14px 14px;
      border-top:1px solid #eef2f6;
      color:#2e75b6;
      font-weight:800;
      font-size:13px;
    }

    .hint{
      max-width:1100px; margin:0 auto 14px;
      background:#fff; border:1px solid #eef2f6; border-radius:16px;
      padding:12px 14px;
      display:flex; gap:10px; align-items:flex-start;
      box-shadow:0 4px 14px rgba(0,0,0,.05);
      color:#1f4f7a;
    }
    .hint i{ margin-top:2px; color:#2e75b6; }

    @media (max-width:1200px){
      .grid{ grid-template-columns: repeat(3, 1fr); }
      .wrap{ padding:16px 24px 30px; }
    }
    @media (max-width:900px){
      .grid{ grid-template-columns: repeat(2, 1fr); }
    }
    @media (max-width:768px){
      .container{ flex-direction:column !important; }
      .sidebar{
        width:100% !important; height:60px !important;
        flex-direction:row !important; justify-content:center !important;
        position:sticky !important; top:0 !important; left:auto !important;
        padding:10px !important; gap:12px !important;
      }
      .main{ margin-left:0 !important; width:100% !important; }
      .header{ padding:24px 16px; }
      .wrap{ padding:14px 16px 24px; }
      .grid{ grid-template-columns: 1fr; }
    }
  </style>
</head>

<body>
  <div class="container">
    <nav class="sidebar">
      <a href="index.html" class="sidebar-icon" title="Home"><i class="fas fa-home"></i></a>
      <a href="knowledge-base.html" class="sidebar-icon" title="Knowledge Base"><i class="fas fa-book-open"></i></a>
      <a href="learning-path.html" class="sidebar-icon active" title="Learning Path"><i class="fas fa-graduation-cap"></i></a>
      <a href="quiz.html" class="sidebar-icon" title="Quiz"><i class="fas fa-clipboard-check"></i></a>
      <a href="share-experience.html" class="sidebar-icon" title="Share Experience"><i class="fas fa-comments"></i></a>
    </nav>

    <main class="main">
      <header class="header">
        <h1>Learning Path</h1>
        <p>เลือกกระบวนการ (1–7) เพื่อเรียนรู้ “วิธีการผลิตที่ถูกต้องตาม WI” แบบสั้น กระชับ พร้อมจุดวิกฤต</p>
      </header>

      <div class="wrap">
        <div class="hint">
          <i class="fa-solid fa-lightbulb"></i>
          <div>
            <strong>วิธีใช้:</strong> กดเลือกกระบวนการ → เข้าไปดู Step แบบไม่น่าเบื่อ (สลับโหมดได้: Stepper / Checklist / Flow)
          </div>
        </div>

        <section class="grid" id="processGrid"></section>
      </div>
    </main>
  </div>

  <script>
    // แค่หน้าเลือก process ไม่ต้องเรียก API ก็ได้ (เพราะ process คงที่ 1-7)

    const processes = [
      { id:"1", name:"ผสมเปียก", icon:"fa-blender" , desc:"เตรียม Wet Mass ให้พร้อมแร่ง (จุดเสี่ยง: ความชื้น/ความเหนียว)" },
      { id:"2", name:"แร่งเปียก", icon:"fa-gears"  , desc:"แร่งให้เป็นเส้น/ตัวหนอน + เกลี่ยลงถาดให้สม่ำเสมอ" },
      { id:"3", name:"อบลมร้อน", icon:"fa-temperature-high", desc:"ควบคุมอุณหภูมิ/เวลา + ตรวจค่า LOD ก่อนไปต่อ" },
      { id:"4", name:"แร่งแห้ง", icon:"fa-filter", desc:"ทำให้แตกตัวเป็นผงตาม WI และเตรียมสารช่วยให้ไหลตัว" },
      { id:"5", name:"ผสมแห้ง", icon:"fa-circle-nodes", desc:"ผสมให้สม่ำเสมอครบเวลา เพื่อลดปัญหาน้ำหนัก/ความหนา" },
      { id:"6", name:"ตอกเม็ดยา", icon:"fa-compress", desc:"ตั้งค่าเครื่องให้ได้ น้ำหนัก/ความหนา/ความแข็ง ตามเกณฑ์" },
      { id:"7", name:"บรรจุซอง", icon:"fa-box", desc:"ตั้งเครื่อง/ทดสอบ/ตรวจซอง เพื่อป้องกันซองรั่วและจำนวนเม็ดผิด" }
    ];

    function cardHTML(p){
      return `
        <div class="p-card" onclick="goProcess('${p.id}')">
          <div class="p-img">
            <span class="p-badge"><i class="fa-solid fa-route"></i> Process ${p.id}</span>
            <i class="fa-solid ${p.icon}"></i>
          </div>
          <div class="p-body">
            <div class="p-title">${p.name}</div>
            <div class="p-sub">${p.desc}</div>
          </div>
          <div class="p-actions">
            <span>เริ่มเรียนรู้</span>
            <i class="fa-solid fa-arrow-right"></i>
          </div>
        </div>
      `;
    }

    function goProcess(id){
      // ส่ง process ไปหน้าถัดไป
      location.href = `learning-process.html?process=${encodeURIComponent(id)}`;
    }

    document.getElementById("processGrid").innerHTML = processes.map(cardHTML).join("");
  </script>
</body>
</html>
